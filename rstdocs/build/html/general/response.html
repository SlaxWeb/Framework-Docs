



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Handling responses &mdash; SlaxWeb Framework v0.4.0</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="SlaxWeb Framework v0.4.0" href="../index.html"/>
        <link rel="up" title="General Topics" href="index.html"/>
        <link rel="next" title="Models" href="model.html"/>
        <link rel="prev" title="Views &amp; Templates" href="viewtpl.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> SlaxWeb Framework
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/requirements.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#preparing-the-environment">Preparing the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#install-with-composer">Install with composer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#install-from-prepared-packages">Install from prepared packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/firstglance.html">First glance at the framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#root-directory">Root directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#main-application-directory">Main Application directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#bootstrap-directory">Bootstrap directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#documentation-directory">Documentation directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#public-directory">Public directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#composer-files">Composer Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#autoloader">Autoloader</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#urls">URLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#templating">Templating</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#template-directory">Template directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#view-directory">View directory</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#models">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#views">Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#controllers">Controllers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/architecture.html">Software Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/architecture.html#services-and-properties">Services and Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/architecture.html#providers">Providers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/webserver.html">Setting up a WebServer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#nginx-php-fpm">Nginx + PHP-FPM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#apache-mod-php">Apache + mod_php</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/webserver.html#hiding-index-php-in-the-url">Hiding index.php in the URL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#built-in-php-server">Built-in PHP server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#slaxweb-app-server">SlaxWeb App Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#getting-started-with-docker">Getting started with Docker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/preparation.html">Prepare the Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/preparation.html#what-are-components">What are components?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/preparation.html#what-we-will-need">What we will need</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/preparation.html#installing-the-components">Installing the components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/routes.html">Routes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/routes.html#route-collection-file">Route collection file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/routes.html#load-the-collection-file">Load the collection file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/routes.html#adding-a-route">Adding a route</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/homepage.html">Home Page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#template-file">Template file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/homepage.html#breaking-up-the-template">Breaking up the template</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#preparing-the-view-classes">Preparing the view classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#rendering-the-view">Rendering the view</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/newslisting.html">News page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#preparing-the-database">Preparing the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#template-file">Template file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/newslisting.html#view-class">View class</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#model-class">Model class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#bringing-it-all-together">Bringing it all together</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/singlenews.html">Single news page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#creating-the-controller">Creating the controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#create-the-template">Create the template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#the-route">The Route</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/addnews.html">Add news article</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#template-and-view">Template and View</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#saving-the-article">Saving the article</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/editnews.html">Edit news article</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#preparing-the-view">Preparing the View</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#preparing-the-controller">Preparing the controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/editnews.html#saving-updated-news-article">Saving updated news article</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">General Topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="application.html">Application object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="application.html#using-the-application-object">Using the Application object</a><ul>
<li class="toctree-l4"><a class="reference internal" href="application.html#writing-to-application">Writing to Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="application.html#reading-from-application">Reading from Application</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="application.html#services">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="application.html#service-providers">Service Providers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="application.html#registering-the-service-provider">Registering the Service Provider</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="routing.html">Routing and URLs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="routing.html#defining-routes">Defining Routes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="routing.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="routing.html#matching-the-uris">Matching the URIs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="routing.html#default-route">Default Route</a></li>
<li class="toctree-l4"><a class="reference internal" href="routing.html#exact-matching-uri">Exact matching URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="routing.html#url-contains-uri">URL contains URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="routing.html#multiple-uris">Multiple URIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="routing.html#regular-expressions">Regular Expressions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="routing.html#handling-http-methods">Handling HTTP Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="routing.html#route-action">Route Action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="routing.html#request">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="routing.html#response">Response</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="routing.html#segment-based-uri-matching">Segment-based URI matching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="routing.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="routing.html#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#configuration-file-structure">Configuration file structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#loading-configuration-items">Loading configuration items</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#reading-configuration">Reading configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components.html">Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components.html#sub-components">Sub-components</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#component-configuration-file">Component configuration file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components.html#type">Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="components.html#providers">Providers</a></li>
<li class="toctree-l4"><a class="reference internal" href="components.html#configuration-files">Configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="components.html#id1">Sub-components</a></li>
<li class="toctree-l4"><a class="reference internal" href="components.html#scripts">Scripts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="slaxer.html">Slaxer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="slaxer.html#component-manipulation">Component manipulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="slaxer.html#install">Install</a></li>
<li class="toctree-l4"><a class="reference internal" href="slaxer.html#upgrade">Upgrade</a></li>
<li class="toctree-l4"><a class="reference internal" href="slaxer.html#remove">Remove</a></li>
<li class="toctree-l4"><a class="reference internal" href="slaxer.html#reconfigure">Reconfigure</a></li>
<li class="toctree-l4"><a class="reference internal" href="slaxer.html#list">List</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="slaxer.html#custom-commands">Custom Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controllers.html">Controllers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controllers.html#loader">Loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="controllers.html#using-the-controller">Using the Controller</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="viewtpl.html">Views &amp; Templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="viewtpl.html#the-view">The View</a><ul>
<li class="toctree-l4"><a class="reference internal" href="viewtpl.html#loading-the-view">Loading the View</a></li>
<li class="toctree-l4"><a class="reference internal" href="viewtpl.html#setting-the-template">Setting the template</a></li>
<li class="toctree-l4"><a class="reference internal" href="viewtpl.html#view-data">View data</a></li>
<li class="toctree-l4"><a class="reference internal" href="viewtpl.html#rendering-the-template">Rendering the template</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="viewtpl.html#templating">Templating</a><ul>
<li class="toctree-l4"><a class="reference internal" href="viewtpl.html#sub-views">Sub-Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="viewtpl.html#layouts">Layouts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Handling responses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#response-object-extensions">Response object extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#addcontent">addContent</a></li>
<li class="toctree-l4"><a class="reference internal" href="#redirect">redirect</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#output-component">Output component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-modes">Output modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#view-template-output">View/Template output</a></li>
<li class="toctree-l4"><a class="reference internal" href="#json-output">JSON output</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-output">Error output</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model.html">Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model.html#base-model">Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#writing-a-model">Writing a Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#loader">Loader</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logger.html">Logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="hooks.html">Hooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hooks.html#writing-hook-points">Writing hook points</a></li>
<li class="toctree-l3"><a class="reference internal" href="hooks.html#writing-hook-definitions">Writing Hook Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="hooks.html#register-hook-definitons">Register Hook Definitons</a></li>
<li class="toctree-l4"><a class="reference internal" href="hooks.html#multiple-hook-definitions">Multiple Hook Definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hooks.html#framework-hooks-points">Framework hooks points</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="libraries.html">Libraries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="libraries.html#registering-libraries">Registering libraries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Databases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/config.html">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database/config.html#connecting-to-a-database">Connecting to a Database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#driver">Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#hostname">Hostname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#port">Port</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#database">Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#username-password">Username &amp; Password</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/config.html#base-model-settings">Base Model Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#table-name-guessing">Table name guessing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database/basemodel.html">Base Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database/basemodel.html#using-the-base-model">Using the Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/basemodel.html#using-the-loader">Using the loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/basemodel.html#setting-the-table-name">Setting the table name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/basemodel.html#accessing-the-database">Accessing the Database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/basemodel.html#executing-queries">Executing queries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database/execqueries.html">Executing Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#run-custom-query">Run custom query</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#error-handling">Error handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#query-parameters">Query parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/execqueries.html#sequential-parameter-binding">Sequential parameter binding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/execqueries.html#named-parameter-binding">Named parameter binding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#fetching-data">Fetching data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/execqueries.html#reading-results">Reading results</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#id1">PDO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database/querybuilder.html">Query builder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#creating-data">Creating data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#updating-existing-data">Updating existing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#deleting-data">Deleting data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#soft-deletes">Soft deletes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#data-retrieval">Data retrieval</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#where-statements">Where statements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#where">where</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#orwhere">orWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#groupwhere">groupWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#orgroupwhere">orGroupWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#nestedwhere">nestedWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#ornestedwhere">orNestedWhere</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#joins">Joins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#join">join</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#joinmodel">joinModel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#joincond">joinCond</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#orjoincond">orJoinCond</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#joincols">joinCols</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#grouping">Grouping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#ordering">Ordering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#limit">Limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#timestamps">Timestamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#sql-functions">SQL functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../components/bootstrap.html">Bootstrap Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../components/bootstrap.html#application">Application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/bootstrap.html#hooks">Hooks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/bootstrap.html#registering-additional-providers">Registering Additional Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/bootstrap.html#class-reference">Class reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../components/config.html">Config Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../components/config.html#handler">Handler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/config.html#prepending-configuration-item-names">Prepending configuration item names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/config.html#specific-handlers">Specific Handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/config.html#custom-handlers">Custom Handlers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../components/router.html">Router Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#route">Route</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#uri">URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#method">Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#action">Action</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#container">Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#dispatcher">Dispatcher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#hooks">Hooks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#response">Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#route-collections">Route Collections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#adding-a-route">Adding a route</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#services">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#class-reference">Class reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="/Framework-Docs/classmap/annotated.html#http://">Class Map</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">SlaxWeb Framework</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">General Topics</a> &raquo;</li>
      
    <li>Handling responses</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/general/response.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="handling-responses">
<span id="gen-topics-response"></span><h1>Handling responses<a class="headerlink" href="#handling-responses" title="Permalink to this headline">¶</a></h1>
<p>The SlaxWeb Framework uses the robust <em>Request</em> and <em>Response</em> classes of the <a class="reference external" href="http://symfony.com/doc/3.0/components/http_foundation.html">Symfony
Http Foundation</a> component
to handle incoming requests and outgoing responses. The framework however provides
an extension to the Response class to simplify a few tasks when returning data to
the caller. Some extensions come in the form of the extended <em>Response</em> class of
the framework itself, and those can be used as simply as other Symfony Http Foundation
Response object functionality.</p>
<p>Other extensions come in the form of an <strong>Output</strong> SlaxWeb Framework component,
which is installed by default but not activated. The Output component helps with
outputting data from views, JSON data structures, and files.</p>
<div class="section" id="response-object-extensions">
<h2>Response object extensions<a class="headerlink" href="#response-object-extensions" title="Permalink to this headline">¶</a></h2>
<p>Bellow is the functionality that is not found in the original <em>Response object</em>
of the <em>Symfony Http Foundation</em> in this particular form, or what can not be used
as such directly.</p>
<div class="section" id="addcontent">
<h3>addContent<a class="headerlink" href="#addcontent" title="Permalink to this headline">¶</a></h3>
<p>Add content is used just as the original <a class="reference external" href="http://api.symfony.com/3.0/Symfony/Component/HttpFoundation/Response.html#method_setContent">setContent</a>
only that it does not truncate the previously set content, but instead appends the
new content to the previously existing content.</p>
</div>
<div class="section" id="redirect">
<h3>redirect<a class="headerlink" href="#redirect" title="Permalink to this headline">¶</a></h3>
<p>In the original <em>Response</em> component of the <em>Symfony Http Foundation</em> means creating
a new response object, and using this object to sent the output. This does not work
in the SlaxWeb Frameworks architecture. Therefor the extension of the <em>Response
object</em> provides a <strong>redirect</strong> method which takes an URI or full URL as input and
redirects the user to that address. The second parameter dictates if the user should
be redirected immediately or at the end of execution of the request:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;response.service&quot;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">redirect</span><span class="p">(</span><span class="s2">&quot;/some/uri&quot;</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">&quot;this will no longer be executed&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>If you wish to permit the rest of the execution to finish, pase <em>bool(false)</em> as
the value of the second parameter:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;response.service&quot;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">redirect</span><span class="p">(</span><span class="s2">&quot;https://google.com&quot;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">&quot;this will still run&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="output-component">
<h2>Output component<a class="headerlink" href="#output-component" title="Permalink to this headline">¶</a></h2>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">This has not yet been implemented, and this documentation is the second draft
of the <em>Output component</em>. End implementation may be done differently, and there
is no guarantee that it will function in compliance to this documentation. First
draft on <em>Output component</em> can be found <a class="reference external" href="https://github.com/SlaxWeb/Framework/wiki/Documentation#13-output">here</a>.</p>
</div>
<p>The Output component helps with managing the output from your application, by setting
the correct response codes, content type, and so on. It is disabled by default,
and should be enabled in its configuration file <strong>output.php</strong> which can be found
in the default configuration directory, <strong>app/Config/</strong>.</p>
<p>The Output component is exposed to the DIC under the <strong>output.service</strong> name.</p>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>Apart from enabling and disabling the Output component, the configuration file allows
you to control general output in your application. The following configuration options
are available:</p>
<div class="section" id="enable">
<h4>enable<a class="headerlink" href="#enable" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Data type: <strong>bool</strong></li>
<li>Default: <strong>false</strong></li>
</ul>
<p>Enables or disables the Output component, and must be set to bool(<strong>true</strong>) in order
to enable the component.</p>
</div>
<div class="section" id="permitdirectoutput">
<h4>permitDirectOutput<a class="headerlink" href="#permitdirectoutput" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Data type: <strong>bool</strong></li>
<li>Default: <strong>true</strong></li>
</ul>
<p>If this configuration option is set to bool(<strong>false</strong>) the Output component will
discard any direct output from your application that is not set to the <em>Response
object</em> or the Output component.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Setting this to bool(<strong>false</strong>) will prevent <strong>ALL</strong> direct output, including
PHP error messages. This is <strong>NOT</strong> recommended for a development environment!</p>
</div>
</div>
<div class="section" id="discardresponseonexit">
<h4>discardResponseOnExit<a class="headerlink" href="#discardresponseonexit" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Data type: <strong>bool</strong></li>
<li>Default: <strong>false</strong></li>
</ul>
<p>All data set to the <em>Response</em> object or the <em>Output</em> component is discarded if
execution is abruptly terminated by calling <em>exit</em> in application code, unless the
<em>Output</em> component is enabled and <em>discardResponseOnExit</em> is set to bool(<strong>false</strong>).</p>
</div>
<div class="section" id="defaultoutputmode">
<span id="gen-topics-response-output-conf-mode"></span><h4>defaultOutputMode<a class="headerlink" href="#defaultoutputmode" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Data type: <strong>int</strong> - constants</li>
<li>Default: <strong>Output::MODE_JSON</strong> - 1</li>
</ul>
<p>Defines the default mode in which the Output component operates. See <a class="reference internal" href="#gen-topics-response-output-mode"><span class="std std-ref">Output modes</span></a> for a list of available values.</p>
</div>
<div class="section" id="permitmodechange">
<h4>permitModeChange<a class="headerlink" href="#permitmodechange" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Data type: <strong>bool</strong></li>
<li>Default: <strong>true</strong></li>
</ul>
<p>Defines if the Output mode may be changed once it has already been set manually.
Applies only after the mode has been changed first.</p>
</div>
</div>
<div class="section" id="output-modes">
<span id="gen-topics-response-output-mode"></span><h3>Output modes<a class="headerlink" href="#output-modes" title="Permalink to this headline">¶</a></h3>
<p>Output component supports multiple output modes:</p>
<ul class="simple">
<li>View/Template output - <em>Output::MODE_VIEW</em> - int(0)</li>
<li>JSON output - <em>Output::MODE_JSON</em> - int(1)</li>
<li>File output <em>(not yet supported)</em> - <em>Output::MODE_FILE</em> - int(2)</li>
</ul>
<p>The <strong>View/Template output</strong> mode is enabled as soon as a View object is added to
the Output object. This mode will render the added views as they are added. More
information can be found bellow in <a class="reference internal" href="#gen-topics-response-rendertpl"><span class="std std-ref">View/Template output</span></a>.</p>
<p>The <strong>JSON output</strong> mode can be enabled by explicitly calling the <strong>jsonMode</strong> method
on the Output object. JSON output data is then accessed over the public <em>json</em> property
of the Output object. For more information refer to the <a class="reference internal" href="#gen-topics-response-json"><span class="std std-ref">JSON output</span></a> section bellow.</p>
<p>A default mode may be configured in the configuration as well. See <a class="reference internal" href="#gen-topics-response-output-conf-mode"><span class="std std-ref">defaultOutputMode</span></a>.</p>
</div>
<div class="section" id="view-template-output">
<span id="gen-topics-response-rendertpl"></span><h3>View/Template output<a class="headerlink" href="#view-template-output" title="Permalink to this headline">¶</a></h3>
<p>Rendering templates is not a particularly hard task in the SlaxWeb Framework. You
initialize the View with the help of the view loader service, call render method
with the desired view data, or pass it to the <em>View object</em> directly, and the rendered
template is set to the <em>Response object</em>, and the rendered template is output at
the end of execution.</p>
<p>But when your application relies on multiple views in one request, this can become
quite a task, since you need to either pass around all the templates in your application
to set the view data to each view, even when that view data is almost the same in
all the views, or you pass around the first view to be rendered, and let view data
caching handle populating data to the next rendered views. This is where the <strong>Output</strong>
component steps in, you simply add your views to the <strong>Output</strong> object, and add
view data directly to the <strong>Output</strong> object, and have it handle everything for you.</p>
<div class="section" id="addview">
<h4>addView<a class="headerlink" href="#addview" title="Permalink to this headline">¶</a></h4>
<p><em>addView</em> will add the View object to the internal list of Views, and set the output
mode to <strong>View/Template output</strong>. The Output component will automatically render
the Views added with this method in the same order, if the mode is still set to
the <em>View/Template</em> mode.</p>
<p>Example usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// load View \App\View\MyView</span>
<span class="nv">$myView</span> <span class="o">=</span> <span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;loadView.service&quot;</span><span class="p">](</span><span class="s2">&quot;MyView&quot;</span><span class="p">);</span>
<span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;output.service&quot;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">addView</span><span class="p">(</span><span class="nv">$myView</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="adddata">
<h4>addData<a class="headerlink" href="#adddata" title="Permalink to this headline">¶</a></h4>
<p>The <em>addData</em> method accepts an array of data as input. Each time data is added,
the arrays are merged together using the <em>array_merge</em> PHP function. The second
parameter may define the full class name, including namespace, of a View, and the
data will be used only for that View.</p>
<p>Example usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// load View \App\View\MyView</span>
<span class="nv">$myView</span> <span class="o">=</span> <span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;loadView.service&quot;</span><span class="p">](</span><span class="s2">&quot;MyView&quot;</span><span class="p">);</span>
<span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;output.service&quot;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">addView</span><span class="p">(</span><span class="nv">$myView</span><span class="p">);</span>

<span class="c1">// load View \App\View\SpecialView</span>
<span class="nv">$specialView</span> <span class="o">=</span> <span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;loadView.service&quot;</span><span class="p">](</span><span class="s2">&quot;SpecialView&quot;</span><span class="p">);</span>
<span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;output.service&quot;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">addView</span><span class="p">(</span><span class="nv">$specialView</span><span class="p">);</span>

<span class="c1">// add data</span>
<span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;output.service&quot;</span><span class="p">]</span>
    <span class="o">-&gt;</span><span class="na">addData</span><span class="p">([</span><span class="s2">&quot;foo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;bar&quot;</span><span class="p">])</span>
    <span class="o">-&gt;</span><span class="na">addData</span><span class="p">([</span><span class="s2">&quot;baz&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;qux&quot;</span><span class="p">],</span> <span class="nx">\App\View\SpecialView</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</pre></div>
</div>
<p>In the above example, the variable <em>foo</em> will be available in both views, while
the variable <em>baz</em> will be available only in the <em>SpecialView</em>.</p>
</div>
</div>
<div class="section" id="json-output">
<span id="gen-topics-response-json"></span><h3>JSON output<a class="headerlink" href="#json-output" title="Permalink to this headline">¶</a></h3>
<p>The <strong>JSON output</strong> mode is enabled by default through configuration, or it can
be enabled manually by calling the <strong>jsonMode</strong> method on the Output object. When
in JSON mode, the Output component will automatically set the appropriate headers
for this mode.</p>
<p>The Output object uses an external <strong>JSON Handler</strong> class for output data manipulation.
The handler class implements the <strong>SlaxWebOutputInterfacesJsonHandler</strong> interface
that defines the required methods for adding data, errors, and serialization to
JSON.  The <strong>SlaxWebOutputHandlerJson</strong> class is also provided that implements
the interface. If additional functionality or structure is required the existing
handler may be extended, or a completely new one may be defined, as long as it is
exposed to the DIC with the <strong>jsonOutputHandler.service</strong> name, and it implements
the above interface.</p>
<p>The default handler serializes the data and error arrays to the following basic
JSON structure:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;error&quot;</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The JSON Handler is available through the <strong>json</strong> property in the Output object.</p>
<div class="section" id="jsonmode">
<h4>jsonMode<a class="headerlink" href="#jsonmode" title="Permalink to this headline">¶</a></h4>
<p>When the <strong>jsonMode</strong> method is called, the Output objects output mode is set to
<strong>JSON output</strong>.</p>
</div>
<div class="section" id="id1">
<h4>addData<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Add an array of data to the handler that will be serialized to the <em>data</em> part of
the JSON in output. Example:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;output.service&quot;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">json</span><span class="o">-&gt;</span><span class="na">addData</span><span class="p">([</span><span class="s2">&quot;foo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;bar&quot;</span><span class="p">]);</span>
</pre></div>
</div>
<p>The above code will produce the following output:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;error&quot;</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="adderror">
<h4>addError<a class="headerlink" href="#adderror" title="Permalink to this headline">¶</a></h4>
<p>Add error will add the error message to the <em>error</em> array of the output JSON and
automatically set the response HTTP Status code, to 500 <em>Internal Server Error</em>
by default. The second parameter can override this, by specifying a different HTTP
Status code. Example:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;output.service&quot;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">json</span><span class="o">-&gt;</span><span class="na">addError</span><span class="p">(</span><span class="s2">&quot;Not permitted&quot;</span><span class="p">,</span> <span class="mi">403</span><span class="p">);</span>
</pre></div>
</div>
<p>The above code will produce the following output:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;error&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;Not permitted&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In addition to the output JSON, the response HTTP Status code will be set to 403
<em>Forbidden</em>.</p>
</div>
</div>
<div class="section" id="error-output">
<h3>Error output<a class="headerlink" href="#error-output" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not implemented yet. Planed for future releases.</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="model.html" class="btn btn-neutral float-right" title="Models" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="viewtpl.html" class="btn btn-neutral" title="Views &amp; Templates" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, SlaxWeb Dev Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>