



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Router Component &mdash; SlaxWeb Framework v0.4.0</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="SlaxWeb Framework v0.4.0" href="../index.html"/>
        <link rel="up" title="Components" href="index.html"/>
        <link rel="prev" title="Config Component" href="config.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> SlaxWeb Framework
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/requirements.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#preparing-the-environment">Preparing the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#install-with-composer">Install with composer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#install-from-prepared-packages">Install from prepared packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/firstglance.html">First glance at the framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#root-directory">Root directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#main-application-directory">Main Application directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#bootstrap-directory">Bootstrap directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#documentation-directory">Documentation directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#public-directory">Public directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#composer-files">Composer Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#autoloader">Autoloader</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#urls">URLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#templating">Templating</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#template-directory">Template directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#view-directory">View directory</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#models">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#views">Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#controllers">Controllers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/architecture.html">Software Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/architecture.html#services-and-properties">Services and Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/architecture.html#providers">Providers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/webserver.html">Setting up a WebServer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#nginx-php-fpm">Nginx + PHP-FPM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#apache-mod-php">Apache + mod_php</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/webserver.html#hiding-index-php-in-the-url">Hiding index.php in the URL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#built-in-php-server">Built-in PHP server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#slaxweb-app-server">SlaxWeb App Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#getting-started-with-docker">Getting started with Docker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/preparation.html">Prepare the Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/preparation.html#what-are-components">What are components?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/preparation.html#what-we-will-need">What we will need</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/preparation.html#installing-the-components">Installing the components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/routes.html">Routes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/routes.html#route-collection-file">Route collection file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/routes.html#load-the-collection-file">Load the collection file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/routes.html#adding-a-route">Adding a route</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/homepage.html">Home Page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#template-file">Template file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/homepage.html#breaking-up-the-template">Breaking up the template</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#preparing-the-view-classes">Preparing the view classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#rendering-the-view">Rendering the view</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/newslisting.html">News page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#preparing-the-database">Preparing the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#template-file">Template file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/newslisting.html#view-class">View class</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#model-class">Model class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#bringing-it-all-together">Bringing it all together</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/singlenews.html">Single news page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#creating-the-controller">Creating the controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#create-the-template">Create the template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#the-route">The Route</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/addnews.html">Add news article</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#template-and-view">Template and View</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#saving-the-article">Saving the article</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/editnews.html">Edit news article</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#preparing-the-view">Preparing the View</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#preparing-the-controller">Preparing the controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/editnews.html#saving-updated-news-article">Saving updated news article</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/application.html">Application object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/application.html#using-the-application-object">Using the Application object</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/application.html#writing-to-application">Writing to Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/application.html#reading-from-application">Reading from Application</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/application.html#services">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/application.html#service-providers">Service Providers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/application.html#registering-the-service-provider">Registering the Service Provider</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Routing and URLs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#defining-routes">Defining Routes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#matching-the-uris">Matching the URIs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#default-route">Default Route</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#exact-matching-uri">Exact matching URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#url-contains-uri">URL contains URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#multiple-uris">Multiple URIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#regular-expressions">Regular Expressions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#handling-http-methods">Handling HTTP Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#route-action">Route Action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#request">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#response">Response</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#segment-based-uri-matching">Segment-based URI matching</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/config.html">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/config.html#configuration-file-structure">Configuration file structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/config.html#loading-configuration-items">Loading configuration items</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/config.html#reading-configuration">Reading configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/components.html">Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/components.html#sub-components">Sub-components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/components.html#component-configuration-file">Component configuration file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#type">Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#providers">Providers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#configuration-files">Configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#id1">Sub-components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#scripts">Scripts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/slaxer.html">Slaxer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/slaxer.html#component-manipulation">Component manipulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#install">Install</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#upgrade">Upgrade</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#remove">Remove</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#reconfigure">Reconfigure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#list">List</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/slaxer.html#custom-commands">Custom Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/controllers.html#loader">Loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/controllers.html#using-the-controller">Using the Controller</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/viewtpl.html">Views &amp; Templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/viewtpl.html#the-view">The View</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#loading-the-view">Loading the View</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#setting-the-template">Setting the template</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#view-data">View data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#rendering-the-template">Rendering the template</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/viewtpl.html#templating">Templating</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#sub-views">Sub-Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#layouts">Layouts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/model.html">Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/model.html#base-model">Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/model.html#writing-a-model">Writing a Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/model.html#loader">Loader</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/logger.html">Logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Hooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/hooks.html#writing-hook-points">Writing hook points</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/hooks.html#writing-hook-definitions">Writing Hook Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/hooks.html#register-hook-definitons">Register Hook Definitons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/hooks.html#multiple-hook-definitions">Multiple Hook Definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/hooks.html#framework-hooks-points">Framework hooks points</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Libraries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/libraries.html#registering-libraries">Registering libraries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Databases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/config.html">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database/config.html#connecting-to-a-database">Connecting to a Database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#driver">Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#hostname">Hostname</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#port">Port</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#database">Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#username-password">Username &amp; Password</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/config.html#base-model-settings">Base Model Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/config.html#table-name-guessing">Table name guessing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database/basemodel.html">Base Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database/basemodel.html#using-the-base-model">Using the Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/basemodel.html#using-the-loader">Using the loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/basemodel.html#setting-the-table-name">Setting the table name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/basemodel.html#accessing-the-database">Accessing the Database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/basemodel.html#executing-queries">Executing queries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database/execqueries.html">Executing Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#run-custom-query">Run custom query</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#error-handling">Error handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#query-parameters">Query parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/execqueries.html#sequential-parameter-binding">Sequential parameter binding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/execqueries.html#named-parameter-binding">Named parameter binding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#fetching-data">Fetching data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/execqueries.html#reading-results">Reading results</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/execqueries.html#id1">PDO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database/querybuilder.html">Query builder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#creating-data">Creating data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#deleting-data">Deleting data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#soft-deletes">Soft deletes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#data-retrieval">Data retrieval</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#updating-existing-data">Updating existing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#where-statements">Where statements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#where">where</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#orwhere">orWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#groupwhere">groupWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#orgroupwhere">orGroupWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#nestedwhere">nestedWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#ornestedwhere">orNestedWhere</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#joins">Joins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#join">join</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#joinmodel">joinModel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#joincond">joinCond</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#orjoincond">orJoinCond</a></li>
<li class="toctree-l4"><a class="reference internal" href="../database/querybuilder.html#joincols">joinCols</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#grouping">Grouping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#ordering">Ordering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#limit">Limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#timestamps">Timestamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/querybuilder.html#sql-functions">SQL functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bootstrap.html">Bootstrap Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bootstrap.html#application">Application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="bootstrap.html#hooks">Hooks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bootstrap.html#registering-additional-providers">Registering Additional Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="bootstrap.html#class-reference">Class reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Config Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#handler">Handler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="config.html#prepending-configuration-item-names">Prepending configuration item names</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#specific-handlers">Specific Handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#custom-handlers">Custom Handlers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Router Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#route">Route</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uri">URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#method">Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="#action">Action</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#container">Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dispatcher">Dispatcher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hooks">Hooks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#response">Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="#route-collections">Route Collections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-route">Adding a route</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#services">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="#class-reference">Class reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="/Framework-Docs/classmap/annotated.html#http://">Class Map</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">SlaxWeb Framework</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Components</a> &raquo;</li>
      
    <li>Router Component</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/components/router.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="router-component">
<span id="id1"></span><h1>Router Component<a class="headerlink" href="#router-component" title="Permalink to this headline">¶</a></h1>
<p>The Router helps you route your incoming requests to the correct code, and is one
of the essential components in modern web applications, especially those which rely
on a single entry point. With a Router, you control which part of your code will
handle an incoming request, based on its URI and request method. The Router component
also provides the <strong>Request</strong> and <strong>Response</strong> classes that simplify request handling,
response handling, redirects, and so on.</p>
<p>The Router Component is one of the core Components and is therefore installed with
the Framework, and therefore can not be removed. It routes incoming requests to
the correct application code. In order to do that, you have to define a Route with
the correct <em>URI</em>, <em>HTTP Method</em>, and a valid <em>Action</em>.</p>
<p>Note that in order to use the Framework, you do not need to instantiate any of the
bellow elements of the component. The documentation is provided only if you need
to use the Router in any extra ordinary case. The normal usage inside the Framework
can be found in <a class="reference internal" href="#router-framework-use"><span class="std std-ref">Route Collections</span></a>.</p>
<div class="section" id="route">
<h2>Route<a class="headerlink" href="#route" title="Permalink to this headline">¶</a></h2>
<p>A <strong>Route</strong> is the main element of the Router Component. The Router Component will
try to match an incoming <em>Request</em> with a <em>Route</em>. In order for a <em>Route</em> to match
an incoming <em>Request</em> both the <strong>URI</strong> and the <strong>HTTP Method</strong> must match exactly.</p>
<p>The Router Component provides a <em>Factory</em> that instantiates a new <em>Route</em> object.
The <em>Factory</em> can be obtained from the Application Service Repository:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$route</span> <span class="o">=</span> <span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;router.newRoute&quot;</span><span class="p">];</span>
</pre></div>
</div>
<div class="section" id="uri">
<h3>URI<a class="headerlink" href="#uri" title="Permalink to this headline">¶</a></h3>
<p>The <strong>URI</strong> part of the <em>Route</em> is essentially a <strong>regexp</strong> string to which the
beginning and end <strong>regexp</strong> delimiters are added automatically and should not be
added by the user. That is to make use of it a lot simpler, and for basic URI matching
a simple name in the URI is enough. You do not need to know <strong>regexp</strong> in order
to use SlaxWeb Framework Routes. It is available only if you need more advanced
URI matching. It also provides pseudo-classes for parameters in the URI to simplify
parameter matching.</p>
<p>The pseudo-classes in use are <strong>[:params:]</strong> and <strong>[:named:]</strong>. The <strong>params</strong> pseudo
class will convert anything it matches to parameters, and will inject them as an
array to the Query parameters of the <strong>Request</strong> object under the key <strong>parameters</strong>.
The parameters are separated with a forward slash <em>(/)</em>.  The <strong>named</strong> pseudo-class
does the same, only it matches the URI segments in pairs, where the first segment
is the <strong>name</strong> of the parameter, and the second segment is the <strong>value</strong> of the
parameter. Example:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="30%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">uri</th>
<th class="head">request uri</th>
<th class="head">results</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>myroute/[:params:]</td>
<td>/myroute/val1/val2</td>
<td>Query parameters: [&#8220;parameters&#8221; =&gt; [&#8220;val1&#8221;, &#8220;val2&#8221;]]</td>
</tr>
<tr class="row-odd"><td>myroute/[:named:]</td>
<td>/myroute/param1/val1/param2/val2</td>
<td>Query parameters: [&#8220;param1&#8221; =&gt; &#8220;val2&#8221;, &#8220;param2&#8221; =&gt; &#8220;val2&#8221;]</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="method">
<h3>Method<a class="headerlink" href="#method" title="Permalink to this headline">¶</a></h3>
<p>The <strong>Method</strong> part of the <em>Route</em> defines for which <em>Request</em> methods this particular
<em>Route</em> will match. Internally a binary number is used to represent an HTTP Method,
but the <strong>Route</strong> class provides them as class constants. For information on the
constants, please refer to the <a class="reference internal" href="#router-class-reference"><span class="std std-ref">Class reference</span></a>.</p>
<p>A single <em>Route</em> can be defined for multiple HTTP Methods. In order to achieve this
a logical or <em>(|)</em> should be used when defining multiple HTTP Methods for the <em>Route</em>.</p>
</div>
<div class="section" id="action">
<h3>Action<a class="headerlink" href="#action" title="Permalink to this headline">¶</a></h3>
<p>The <strong>Action</strong> is where all the magic happens. In here you define how you wish to
handle the <em>Request</em>. There for the <strong>Action</strong> has to be of type <strong>Callable</strong>. The
Router will call the Route with 3 parameters. The <strong>Request</strong> object, the <strong>Response</strong>
object, and the <strong>Application Service Registry</strong> object, in that particular order.
Fully qualified class names for all 3 objects:</p>
<ul class="simple">
<li>\SlaxWeb\Router\Request</li>
<li>\SlaxWeb\Router\Response</li>
<li>\SlaxWeb\Bootstrap\Application</li>
</ul>
</div>
</div>
<div class="section" id="container">
<h2>Container<a class="headerlink" href="#container" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Container</strong> is a simple class that holds all the defined routes in one place.
Even if a <strong>Route</strong> class is initialised, and a valid Route has been configured
with it, it needs to be added to the <strong>Container</strong> in order to be recognized by
the Framework once it is trying to match an incoming <em>Request</em> to a <em>Route</em>.</p>
<p>The <strong>Container</strong> class is accessible through the Application Service Repository:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$container</span> <span class="o">=</span> <span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;routesContainer.service&quot;</span><span class="p">];</span>
</pre></div>
</div>
</div>
<div class="section" id="dispatcher">
<h2>Dispatcher<a class="headerlink" href="#dispatcher" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Dispatcher</strong> is the main element of the Router Component. The Dispatcher is
responsible for matching an incoming <em>Request</em> with existing <em>Routes</em> in the <em>Container</em>.
If it does not find a match, it throws an <em>Exception</em> that is currently not handled
anywhere. To avoid this, a 404 route has to be defined with the <strong>Route</strong> class.</p>
<p>The <strong>Dispatcher</strong> class is accessible through the Application Service Repository:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$dispatcher</span> <span class="o">=</span> <span class="nv">$app</span><span class="p">[</span><span class="s2">&quot;routeDispatcher.service&quot;</span><span class="p">];</span>
</pre></div>
</div>
<div class="section" id="hooks">
<h3>Hooks<a class="headerlink" href="#hooks" title="Permalink to this headline">¶</a></h3>
<p>The Dispatcher executes the following Hooks at various points of execution. Some
supply the Hook definition with a parameter, and some use the return value. Check
the description of a hook to find out more:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="18%" />
<col width="18%" />
<col width="39%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">name</th>
<th class="head">parameters</th>
<th class="head">return</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>router.dispatcher.afterInit</td>
<td>none</td>
<td>none</td>
<td><div class="first last line-block">
<div class="line">Executed after the Dispatcher class is instantiated.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td>router.dispatcher.beforeDispatch</td>
<td>\SlaxWeb\Router\Route</td>
<td>bool</td>
<td><div class="first last line-block">
<div class="line">Executed after a <em>Route</em> has been matched to</div>
<div class="line">the incoming <em>Request</em>, and before it has been</div>
<div class="line">dispatched to the <em>Routes</em> Action.</div>
<div class="line">The <em>Route</em> object is supplied as parameter.</div>
<div class="line">If bool(false) is returned, the Dispatcher will not</div>
<div class="line">execute the Route as it expects the Hook definition</div>
<div class="line">to do it instead.</div>
</div>
</td>
</tr>
<tr class="row-even"><td>router.dispatcher.afterDispatch</td>
<td>none</td>
<td>none</td>
<td><div class="first last line-block">
<div class="line">Executed after the incoming <em>Request</em> has been</div>
<div class="line">dispatched to the <em>Routes</em> Action, and the</div>
<div class="line">Action has finished executing.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td>router.dispatcher.routeNotFound</td>
<td>none</td>
<td>\SlaxWeb\Router\Route</td>
<td><div class="first last line-block">
<div class="line">Executed if no matching <em>Route</em> was found for the</div>
<div class="line">incoming <em>Request</em>. If the Hook definition returns a</div>
<div class="line">valid <em>Route</em> object, then this <em>Route</em> object will</div>
<div class="line">be used by the dispatcher.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="request">
<h2>Request<a class="headerlink" href="#request" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Request</strong> element of the Router Component reuses the <strong>Request</strong> element of
the <a class="reference external" href="http://symfony.com/doc/current/components/http_foundation.html">Symfony 3 HTTP Foundation Component</a>.
By clicking on the link you will be taken to the Symfony 3 documentation that you
can use for reference on using the <strong>Request</strong> element of the Router Component.
The SlaxWeb Framework extends the <strong>Request</strong> element of the Symfony Component to
allow for easier additions to the request query parameters.</p>
</div>
<div class="section" id="response">
<h2>Response<a class="headerlink" href="#response" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Response</strong> element of the Router Component reuses the <strong>Response</strong> element
of the <a class="reference external" href="http://symfony.com/doc/current/components/http_foundation.html">Symfony 3 HTTP Foundation Component</a>.
By clicking on the link you will be taken to the Symfony 3 documentation that you
can use for reference on using the <strong>Response</strong> element of the Router Component.</p>
<p>The SlaxWeb Framework extends the <strong>Response</strong> element of the Symfony Component
to provide you with simpler ways of redirecting the visitor within the SlaxWeb Framework
application, and simplify adding of your own content to the <em>Response</em>. To do so
two additional methods are provided, <strong>redirect</strong> and <strong>addContent</strong>. Please refer
to the <a class="reference internal" href="#router-class-reference"><span class="std std-ref">Class reference</span></a> documentation.</p>
</div>
<div class="section" id="route-collections">
<span id="router-framework-use"></span><h2>Route Collections<a class="headerlink" href="#route-collections" title="Permalink to this headline">¶</a></h2>
<p>Route Collections enable a simplified use of the Router inside the Framework. Route
Collections are essential Service Providers that define <em>Routes</em> for the Router
Component. The Framework already provides a <strong>DefaultCollection</strong> class that can
be found in the <strong>app/Routes/DefaultCollection.php</strong> file. You can define further
<em>Routes</em> directly in that class, or create a new collection class that extends from
the <strong>\SlaxWeb\Router\Service\RouteCollection</strong> class. The Route Collection
class must define a <strong>define</strong> method. The <strong>define</strong> method is called when the
Route Collection Service Provider class is registered with the Application Service
Repository. The <strong>define</strong> method definition should add the route definitions that
you wish to include in your application to the <strong>routes</strong> array. This <strong>routes</strong>
array will then be parsed, and added to the <em>Container</em>.</p>
<p>The <strong>routes</strong> array does not contain the finished <em>Route</em> objects, it holds only
the data required to create <em>Route</em> objects. To do so it must hold the following
data:</p>
<ul class="simple">
<li><strong>uri</strong></li>
<li><strong>method</strong></li>
<li><strong>action</strong></li>
</ul>
<div class="section" id="adding-a-route">
<h3>Adding a route<a class="headerlink" href="#adding-a-route" title="Permalink to this headline">¶</a></h3>
<p>To add a route you simply assign the required data to the <strong>routes</strong> array in the
Route Collections:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">use</span> <span class="nx">SlaxWeb\Router\Route</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">SlaxWeb\Router\Request</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">SlaxWeb\Router\Response</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">SlaxWeb\Bootstrap\Application</span> <span class="k">as</span> <span class="nx">App</span><span class="p">;</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;uri&quot;</span>       <span class="o">=&gt;</span>  <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;method&quot;</span>    <span class="o">=&gt;</span>  <span class="nx">Route</span><span class="o">::</span><span class="na">METHOD_GET</span><span class="p">,</span>
    <span class="s2">&quot;action&quot;</span>    <span class="o">=&gt;</span>  <span class="k">function</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">,</span> <span class="nx">Response</span> <span class="nv">$response</span><span class="p">,</span> <span class="nx">App</span> <span class="nv">$application</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// custom route definition ...</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</div>
<p>The above route data will be used to create a <em>Route</em> object automatically and it
will be added to the Routes Container, if the Route Collection class has been loaded
by the Framework. This route matches only the <em>home page</em> call, where no URI is
present, and only when a GET HTTP Request is made. A more advanced Route:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">use</span> <span class="nx">SlaxWeb\Router\Route</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">SlaxWeb\Router\Request</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">SlaxWeb\Router\Response</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">SlaxWeb\Bootstrap\Application</span> <span class="k">as</span> <span class="nx">App</span><span class="p">;</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;uri&quot;</span>       <span class="o">=&gt;</span>  <span class="s2">&quot;uri/[:params:]|myotheruri/[:named:]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;method&quot;</span>    <span class="o">=&gt;</span>  <span class="nx">Route</span><span class="o">::</span><span class="na">METHOD_POST</span> <span class="o">|</span> <span class="nx">Route</span><span class="o">::</span><span class="na">METHOD_PUT</span><span class="p">,</span>
    <span class="s2">&quot;action&quot;</span>    <span class="o">=&gt;</span>  <span class="k">function</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">,</span> <span class="nx">Response</span> <span class="nv">$response</span><span class="p">,</span> <span class="nx">App</span> <span class="nv">$application</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// custom route definition ...</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</div>
<p>The above route will be added to the Container all the same as the first one, but
will match any URI beginning with <em>uri/</em> and every following segment will be converted
to a parameter which is obtainable through the <strong>Request</strong> object. At the same time
it will also match any URI beginning with <em>myotheruri/</em> and convert all following
URI segments to named parameters. It also matches all <em>Requests</em> that are made either
with the POST HTTP Method, or the PUT HTTP Method.</p>
</div>
</div>
<div class="section" id="services">
<h2>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<p>The Router component provides the following services that can be obtained from the
Application class of the <a class="reference internal" href="bootstrap.html#bootstrap-component"><span class="std std-ref">Bootstrap Component</span></a>:</p>
<ul class="simple">
<li><strong>router.newRoute</strong> - Factory that obtains a new <strong>Route</strong> object on each call</li>
<li><strong>routesContainer.service</strong> - obtains the <strong>Container</strong> instance when called</li>
<li><strong>routeDispatcher.service</strong> - obtains the <strong>Dispatcher</strong> instance when called</li>
<li><strong>request.service</strong> - obtains an instance of the <strong>Request</strong> object when called</li>
<li><strong>response.service</strong> - obtains an instance of the <strong>Response</strong> object when called</li>
</ul>
</div>
<div class="section" id="class-reference">
<span id="router-class-reference"></span><h2>Class reference<a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<p>Class reference for the Router Component is available in an external documentation.
Click <a class="reference external" href="router/classref/index.html">here</a> to go to that documentation now.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="config.html" class="btn btn-neutral" title="Config Component" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, SlaxWeb Dev Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>