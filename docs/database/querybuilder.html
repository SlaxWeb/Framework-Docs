



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Query builder &mdash; SlaxWeb Framework v0.4.0</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="SlaxWeb Framework v0.4.0" href="../index.html"/>
        <link rel="up" title="Databases" href="index.html"/>
        <link rel="next" title="Components" href="../components/index.html"/>
        <link rel="prev" title="Executing Queries" href="execqueries.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> SlaxWeb Framework
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/requirements.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#preparing-the-environment">Preparing the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#install-with-composer">Install with composer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/installation.html#install-from-prepared-packages">Install from prepared packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/firstglance.html">First glance at the framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#root-directory">Root directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#main-application-directory">Main Application directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#bootstrap-directory">Bootstrap directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#documentation-directory">Documentation directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#public-directory">Public directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#composer-files">Composer Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#autoloader">Autoloader</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#urls">URLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/firstglance.html#templating">Templating</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#template-directory">Template directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview/firstglance.html#view-directory">View directory</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#models">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#views">Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/mvc.html#controllers">Controllers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/architecture.html">Software Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/architecture.html#services-and-properties">Services and Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview/architecture.html#providers">Providers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/webserver.html">Setting up a WebServer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#nginx-php-fpm">Nginx + PHP-FPM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#apache-mod-php">Apache + mod_php</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/webserver.html#hiding-index-php-in-the-url">Hiding index.php in the URL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#built-in-php-server">Built-in PHP server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#slaxweb-app-server">SlaxWeb App Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/webserver.html#getting-started-with-docker">Getting started with Docker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/preparation.html">Prepare the Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/preparation.html#what-are-components">What are components?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/preparation.html#what-we-will-need">What we will need</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/preparation.html#installing-the-components">Installing the components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/routes.html">Routes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/routes.html#route-collection-file">Route collection file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/routes.html#load-the-collection-file">Load the collection file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/routes.html#adding-a-route">Adding a route</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/homepage.html">Home Page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#template-file">Template file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/homepage.html#breaking-up-the-template">Breaking up the template</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#preparing-the-view-classes">Preparing the view classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/homepage.html#rendering-the-view">Rendering the view</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/newslisting.html">News page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#preparing-the-database">Preparing the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#template-file">Template file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/newslisting.html#view-class">View class</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#model-class">Model class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/newslisting.html#bringing-it-all-together">Bringing it all together</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/singlenews.html">Single news page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#creating-the-controller">Creating the controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#create-the-template">Create the template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/singlenews.html#the-route">The Route</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/addnews.html">Add news article</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#template-and-view">Template and View</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/addnews.html#saving-the-article">Saving the article</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted/editnews.html">Edit news article</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#setting-up-the-route">Setting up the route</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#preparing-the-view">Preparing the View</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gettingstarted/editnews.html#preparing-the-controller">Preparing the controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../gettingstarted/editnews.html#saving-updated-news-article">Saving updated news article</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/application.html">Application object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/application.html#using-the-application-object">Using the Application object</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/application.html#writing-to-application">Writing to Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/application.html#reading-from-application">Reading from Application</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/application.html#services">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/application.html#service-providers">Service Providers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/application.html#registering-the-service-provider">Registering the Service Provider</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Routing and URLs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#defining-routes">Defining Routes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#matching-the-uris">Matching the URIs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#default-route">Default Route</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#exact-matching-uri">Exact matching URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#url-contains-uri">URL contains URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#multiple-uris">Multiple URIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#regular-expressions">Regular Expressions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#handling-http-methods">Handling HTTP Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#route-action">Route Action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#request">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#response">Response</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/routing.html#segment-based-uri-matching">Segment-based URI matching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/routing.html#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/config.html">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/config.html#configuration-file-structure">Configuration file structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/config.html#loading-configuration-items">Loading configuration items</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/config.html#reading-configuration">Reading configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/components.html">Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/components.html#sub-components">Sub-components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/components.html#component-configuration-file">Component configuration file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#type">Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#providers">Providers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#configuration-files">Configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#id1">Sub-components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/components.html#scripts">Scripts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/slaxer.html">Slaxer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/slaxer.html#component-manipulation">Component manipulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#install">Install</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#upgrade">Upgrade</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#remove">Remove</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#reconfigure">Reconfigure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/slaxer.html#list">List</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/slaxer.html#custom-commands">Custom Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/controllers.html#loader">Loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/controllers.html#using-the-controller">Using the Controller</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/viewtpl.html">Views &amp; Templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/viewtpl.html#the-view">The View</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#loading-the-view">Loading the View</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#setting-the-template">Setting the template</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#view-data">View data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#rendering-the-template">Rendering the template</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/viewtpl.html#templating">Templating</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#sub-views">Sub-Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/viewtpl.html#layouts">Layouts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/response.html">Handling responses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/response.html#response-object-extensions">Response object extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/response.html#addcontent">addContent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/response.html#redirect">redirect</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/response.html#output-component">Output component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/response.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/response.html#output-handlers">Output handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/response.html#view-handler">View handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/response.html#json-handler">JSON handler</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/model.html">Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/model.html#base-model">Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/model.html#writing-a-model">Writing a Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/model.html#loader">Loader</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/logger.html">Logger</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/logger.html#using-the-logger">Using the logger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/logger.html#configuring-the-logger">Configuring the logger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/logger.html#defaultlogger">defaultLogger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/logger.html#logfilepath">logFilePath</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/logger.html#loggersettings">loggerSettings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/logger.html#reserved-loggers">Reserved loggers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Hooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/hooks.html#writing-hook-points">Writing hook points</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/hooks.html#writing-hook-definitions">Writing Hook Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../general/hooks.html#register-hook-definitons">Register Hook Definitons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/hooks.html#multiple-hook-definitions">Multiple Hook Definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/hooks.html#framework-hooks-points">Framework hooks points</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Libraries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/libraries.html#registering-libraries">Registering libraries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Databases</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#connecting-to-a-database">Connecting to a Database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="config.html#driver">Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#hostname">Hostname</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#port">Port</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#database">Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#username-password">Username &amp; Password</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="config.html#base-model-settings">Base Model Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="config.html#table-name-guessing">Table name guessing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basemodel.html">Base Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basemodel.html#using-the-base-model">Using the Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="basemodel.html#using-the-loader">Using the loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="basemodel.html#setting-the-table-name">Setting the table name</a></li>
<li class="toctree-l3"><a class="reference internal" href="basemodel.html#accessing-the-database">Accessing the Database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="basemodel.html#executing-queries">Executing queries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="execqueries.html">Executing Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="execqueries.html#run-custom-query">Run custom query</a></li>
<li class="toctree-l3"><a class="reference internal" href="execqueries.html#error-handling">Error handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="execqueries.html#query-parameters">Query parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="execqueries.html#sequential-parameter-binding">Sequential parameter binding</a></li>
<li class="toctree-l4"><a class="reference internal" href="execqueries.html#named-parameter-binding">Named parameter binding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="execqueries.html#fetching-data">Fetching data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="execqueries.html#reading-results">Reading results</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="execqueries.html#id1">PDO</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Query builder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-data">Creating data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updating-existing-data">Updating existing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deleting-data">Deleting data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#soft-deletes">Soft deletes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#data-retrieval">Data retrieval</a></li>
<li class="toctree-l3"><a class="reference internal" href="#where-statements">Where statements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#where">where</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orwhere">orWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="#groupwhere">groupWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orgroupwhere">orGroupWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nestedwhere">nestedWhere</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ornestedwhere">orNestedWhere</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#joins">Joins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#join">join</a></li>
<li class="toctree-l4"><a class="reference internal" href="#joinmodel">joinModel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#joincond">joinCond</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orjoincond">orJoinCond</a></li>
<li class="toctree-l4"><a class="reference internal" href="#joincols">joinCols</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#grouping">Grouping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ordering">Ordering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limit">Limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timestamps">Timestamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sql-functions">SQL functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../components/bootstrap.html">Bootstrap Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../components/bootstrap.html#application">Application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/bootstrap.html#hooks">Hooks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/bootstrap.html#registering-additional-providers">Registering Additional Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/bootstrap.html#class-reference">Class reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../components/config.html">Config Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../components/config.html#handler">Handler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/config.html#prepending-configuration-item-names">Prepending configuration item names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/config.html#specific-handlers">Specific Handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/config.html#custom-handlers">Custom Handlers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../components/router.html">Router Component</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#route">Route</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#uri">URI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#method">Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#action">Action</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#container">Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#dispatcher">Dispatcher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#hooks">Hooks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#response">Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#route-collections">Route Collections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/router.html#adding-a-route">Adding a route</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#services">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../components/router.html#class-reference">Class reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="/Framework-Docs/classmap/annotated.html#http://">Class Map</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">SlaxWeb Framework</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Databases</a> &raquo;</li>
      
    <li>Query builder</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/database/querybuilder.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="query-builder">
<span id="database-querybuilder"></span><h1>Query builder<a class="headerlink" href="#query-builder" title="Permalink to this headline">¶</a></h1>
<p>The Query Builder simplifies running queries against the database, as it does not
require you to write the queries by hand, and thus introduce a different language
into your PHP source code. The Query Builder does however, not just build the queries
for you, it also executes them.</p>
<p>The Query Builder is available in the <a class="reference internal" href="basemodel.html#database-basemodel"><span class="std std-ref">Base Model</span></a> as well as in the
Database Library. Both use same methods, but the Database Library methods have an
extra input argument, the table name must be added as the first argument in every
method call. For this reason it is recommended that you use the <a class="reference internal" href="basemodel.html#database-basemodel"><span class="std std-ref">Base Model</span></a>
and this documentation will cover only this scenario as well.</p>
<div class="section" id="creating-data">
<h2>Creating data<a class="headerlink" href="#creating-data" title="Permalink to this headline">¶</a></h2>
<p>Data creation is simply handled by the <strong>create</strong> method. It takes an associative
array as input, where the keys represent the columns, and the values represent the
data to be inserted:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
    <span class="s2">&quot;col1&quot;</span>  <span class="o">=&gt;</span>  <span class="s2">&quot;value&quot;</span><span class="p">,</span>
    <span class="s2">&quot;col2&quot;</span>  <span class="o">=&gt;</span>  <span class="mi">1</span>
<span class="p">]);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">INSERT</span> <span class="k">INTO</span> <span class="ss">&quot;table&quot;</span> <span class="p">(</span><span class="ss">&quot;col1&quot;</span><span class="p">,</span> <span class="ss">&quot;col2&quot;</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>The <strong>create</strong> method returns a <em>bool</em> status.</p>
</div>
<div class="section" id="updating-existing-data">
<h2>Updating existing data<a class="headerlink" href="#updating-existing-data" title="Permalink to this headline">¶</a></h2>
<p>Updating data is also simply done with the <strong>update</strong> method. It requires an associative
array of column names as keys and new values as array values as the input argument.
Upon a successful update, boolean value <strong>true</strong> is returned, or <strong>false</strong> on error.</p>
<p>The <strong>update</strong> method of the query builder will also create the <em>WHERE</em> statements
for the data retrieval query. Refer to <a class="reference internal" href="#database-querybuilder-where"><span class="std std-ref">Where statements</span></a> part of
this documentation for more information on building <em>WHERE</em> statements. The bellow
example shows a simple update query:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;foo&quot;</span><span class="p">]);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">UPDATE</span> <span class="ss">&quot;table&quot;</span> <span class="k">SET</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span> <span class="k">WHERE</span> <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="deleting-data">
<h2>Deleting data<a class="headerlink" href="#deleting-data" title="Permalink to this headline">¶</a></h2>
<p>Data deletion is as simple as data creation, the <strong>delete</strong> method will generate
a <em>DELETE</em> statement and execute it, and return a <em>bool</em> status. To limit deletion
the Query Builder will generate <em>WHERE</em> statements for the query as well. Refer to
<a class="reference internal" href="#database-querybuilder-where"><span class="std std-ref">Where statements</span></a> part of this documentation for more information
on building <em>WHERE</em> statements. Bellow example will delete all records from a database
table:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">DELETE</span> <span class="k">FROM</span> <span class="ss">&quot;table&quot;</span> <span class="k">WHERE</span> <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<div class="section" id="soft-deletes">
<h3>Soft deletes<a class="headerlink" href="#soft-deletes" title="Permalink to this headline">¶</a></h3>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">Soft deletes are planed for future releases and are as of yet not possible, but
will function as described.</p>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">Soft deletes are possible only with the <a class="reference internal" href="basemodel.html#database-basemodel"><span class="std std-ref">Base Model</span></a>, the Database
Library does not support it!</p>
</div>
<p>Soft deletion does not delete the data row from the database, but only marks them
as deleted with a special column. By default this feature is disabled, and calling
the <strong>delete</strong> the data row will be deleted from the database permanently.</p>
<p>To use soft deletes they have to be enabled in the <strong>database.php</strong> configuration
file, by setting the <strong>softDeletes</strong> to <strong>true</strong>. By default, the soft deleted rows
are marked by setting the boolean value of <strong>true</strong> to the <strong>deleted</strong> column.</p>
<p>The <strong>softDeleteTimestamp</strong> configuration option is set to <strong>false</strong> by default,
if you set it to <strong>true</strong>, then instead of setting a boolean value of <strong>true</strong> to
the <strong>deleted</strong> column the soft delete will write a timestamp into the <strong>deleted</strong>
column. The column must be <em>nullable</em>, as not deleted items will have the value of
<em>NULL</em> set.</p>
<p>If you wish to keep the records of deletion in a different column, you can set it
in the <strong>softDeleteCol</strong> configuration option.</p>
</div>
</div>
<div class="section" id="data-retrieval">
<h2>Data retrieval<a class="headerlink" href="#data-retrieval" title="Permalink to this headline">¶</a></h2>
<p>To obtain data the query builder provides the <strong>select</strong> method which will generate
the <em>SELECT</em> SQL statement, execute it and return the <strong>Result</strong> object. More information
about obtaining data from the <strong>Result</strong> object can be found in the <a class="reference internal" href="execqueries.html#database-execqueries-fetchdata"><span class="std std-ref">Fetching data</span></a> section of the documentation.</p>
<p>You are required to supply an array of the column names that you want in the <em>SELECT</em>
statement as the first and only parameter of the <strong>select</strong> method call.</p>
<p>The <strong>select</strong> method of the query builder will also create the <em>WHERE</em> statements
for the data retrieval query. Refer to <a class="reference internal" href="#database-querybuilder-where"><span class="std std-ref">Where statements</span></a> part of
this documentation for more information on building <em>WHERE</em> statements. The bellow
example shows a simple data retrieval query:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span><span class="p">]);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span> <span class="ss">&quot;col1&quot;</span> <span class="k">FROM</span> <span class="ss">&quot;table&quot;</span> <span class="k">WHERE</span> <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>A successful execution will return the <strong>Result</strong> object, as well as store it inside
the <em>Base Model</em>. You can obtain data from the returned <strong>Result</strong> object or directly
from the model itself, using the exact same method. <a class="reference internal" href="execqueries.html#database-execqueries-fetchdata"><span class="std std-ref">Fetching data</span></a>
is already covered in the linked documentation, please refer to it for more information.</p>
<p>If you attempt to access results through the model and a successful data retrieval
was not made before, the model will throw a <strong>\SlaxWeb\Database\Exception\NoDataException</strong>.</p>
</div>
<div class="section" id="where-statements">
<span id="database-querybuilder-where"></span><h2>Where statements<a class="headerlink" href="#where-statements" title="Permalink to this headline">¶</a></h2>
<p><em>WHERE</em> statements help you limit the range of rows in the database on which you
execute the query. Be it data obtaining, data deletion, or data amending, the query
builder will automatically try and create a <em>WHERE</em> statement for the next query,
if you have set it up. To do so, the query builder provides the following methods:</p>
<ul class="simple">
<li><strong>where</strong></li>
<li><strong>orWhere</strong></li>
<li><strong>groupWhere</strong></li>
<li><strong>orGroupWhere</strong></li>
<li><strong>nestedWhere</strong></li>
<li><strong>orNestedWhere</strong></li>
</ul>
<p>As you may have already noticed, the Query Builder adds the first static predicate,
<em>1=1</em> to all queries, no matter if custom <em>WHERE</em> predicates follow or not. This
is done to simplify and enhance performance of the query builder.</p>
<p>For examples bellow, only the <strong>select</strong> method is used, but <em>WHERE</em> statements
can be combined with other queries as well.</p>
<div class="section" id="where">
<h3>where<a class="headerlink" href="#where" title="Permalink to this headline">¶</a></h3>
<p>The <strong>where</strong> method creates a simple <em>WHERE</em> predicate. It will link it to other
predicates with the logical <strong>AND</strong> operator. It takes the name of the column as
the first argument, and the value as the second argument. The last argument defines
the logical operator for the column, default being the equal symbol <em>(=)</em>. The example
shows how you use the <strong>where</strong> method, and how you can alter the logical operator:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">],</span> <span class="s2">&quot;IN&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col2&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">AND</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
    <span class="k">AND</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col2&quot;</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="s1">&#39;baz)&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="orwhere">
<h3>orWhere<a class="headerlink" href="#orwhere" title="Permalink to this headline">¶</a></h3>
<p><strong>orWhere</strong> is exactly the same as <strong>where</strong> only it will link the predicate with
a logical <strong>OR</strong> operator to the previous predicate:</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Using <em>OR</em> versions is not recommended as the first predicate, as it will contain
all rows because of the initial <em>1=1</em> predicate in every query.</p>
</div>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">orWhere</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;bar%&quot;</span><span class="p">,</span> <span class="s2">&quot;LIKE&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col2&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">AND</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
    <span class="k">OR</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col2&quot;</span> <span class="k">LIKE</span> <span class="s1">&#39;bar%&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="groupwhere">
<h3>groupWhere<a class="headerlink" href="#groupwhere" title="Permalink to this headline">¶</a></h3>
<p>Grouping <em>WHERE</em> predicates is nearly a necessity in more complex statements. To
be able to group predicates the Query Builder provides the <strong>groupWhere</strong> method.
The method takes a <strong>Closure</strong> as its only parameter. The <strong>Closure</strong> will receive
an instance of a Query Builder as input, you can use all the <em>where</em> methods as
normal:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">groupWhere</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">orWhere</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">);</span>
    <span class="p">})</span><span class="o">-&gt;</span><span class="na">groupWhere</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">orWhere</span><span class="p">(</span><span class="s2">&quot;col4&quot;</span><span class="p">,</span> <span class="s2">&quot;qux&quot;</span><span class="p">);</span>
    <span class="p">})</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s2">&quot;col5&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col5&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">AND</span> <span class="p">(</span>
        <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
        <span class="k">OR</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col2&quot;</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
    <span class="p">)</span> <span class="k">AND</span> <span class="p">(</span>
        <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col3&quot;</span> <span class="o">=</span> <span class="s1">&#39;baz&#39;</span>
        <span class="k">OR</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col4&quot;</span> <span class="o">=</span> <span class="s1">&#39;qux&#39;</span>
    <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="orgroupwhere">
<h3>orGroupWhere<a class="headerlink" href="#orgroupwhere" title="Permalink to this headline">¶</a></h3>
<p><strong>orGroupWhere</strong> is exactly the same as <strong>groupWhere</strong> only it will link the grouped
predicates with a logical <strong>OR</strong> operator to the previous predicate:</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Using <em>OR</em> versions is not recommended as the first predicate, as it will contain
all rows because of the initial <em>1=1</em> predicate in every query.</p>
</div>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">groupWhere</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">orWhere</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">);</span>
    <span class="p">})</span><span class="o">-&gt;</span><span class="na">orGroupWhere</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">orWhere</span><span class="p">(</span><span class="s2">&quot;col4&quot;</span><span class="p">,</span> <span class="s2">&quot;qux&quot;</span><span class="p">);</span>
    <span class="p">})</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s2">&quot;col5&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col5&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">AND</span> <span class="p">(</span>
        <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
        <span class="k">OR</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col2&quot;</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
    <span class="p">)</span> <span class="k">OR</span> <span class="p">(</span>
        <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col3&quot;</span> <span class="o">=</span> <span class="s1">&#39;baz&#39;</span>
        <span class="k">OR</span> <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col4&quot;</span> <span class="o">=</span> <span class="s1">&#39;qux&#39;</span>
    <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="nestedwhere">
<h3>nestedWhere<a class="headerlink" href="#nestedwhere" title="Permalink to this headline">¶</a></h3>
<p>The <strong>nestedWhere</strong> method allows to bring in a <em>SELECT</em> statement as a <em>WHERE</em>
predicate. It functions similarly as <strong>groupWhere</strong>, only it takes the name of the
column as the first parameter, and the <strong>Closure</strong> as the second. The <strong>Closure</strong>
again receives the Query Builder as input. You must set the table name to that instance
of the Query Builder, and then use it as you have used it before:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">nestedWhere</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">(</span><span class="s2">&quot;table2&quot;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">select</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span><span class="p">]);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;col2&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table1&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">AND</span> <span class="ss">&quot;table1&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="k">IN</span> <span class="p">(</span>
        <span class="k">SELECT</span> <span class="ss">&quot;table2&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="k">FROM</span> <span class="ss">&quot;table2&quot;</span> <span class="k">WHERE</span> <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="ornestedwhere">
<h3>orNestedWhere<a class="headerlink" href="#ornestedwhere" title="Permalink to this headline">¶</a></h3>
<p><strong>orNestedWhere</strong> is exactly the same as <strong>nestedWhere</strong> only it will link the grouped
predicates with a logical <strong>OR</strong> operator to the previous predicate:</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Using <em>OR</em> versions is not recommended as the first predicate, as it will contain
all rows because of the initial <em>1=1</em> predicate in every query.</p>
</div>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">orNestedWhere</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">(</span><span class="s2">&quot;table2&quot;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">select</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span><span class="p">]);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above example will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;col2&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table1&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">AND</span> <span class="ss">&quot;table1&quot;</span><span class="p">.</span><span class="ss">&quot;col3&quot;</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
    <span class="k">OR</span> <span class="ss">&quot;table1&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="k">IN</span> <span class="p">(</span>
        <span class="k">SELECT</span> <span class="ss">&quot;table2&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="k">FROM</span> <span class="ss">&quot;table2&quot;</span> <span class="k">WHERE</span> <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="joins">
<h2>Joins<a class="headerlink" href="#joins" title="Permalink to this headline">¶</a></h2>
<p>Joining on other or same tables is done simply with the Query Builder. It supports
multiple joins, multiple join conditions, and multiple join types. For this the
Query Builder supplies the following methods:</p>
<ul class="simple">
<li><strong>join</strong></li>
<li><strong>joinModel</strong></li>
<li><strong>joinCond</strong></li>
<li><strong>orJoinCond</strong></li>
<li><strong>joinCols</strong></li>
</ul>
<p>And the following constants in the <strong>\SlaxWebDatabaseBaseModel</strong> class for join
types:</p>
<ul class="simple">
<li><strong>JOIN_INNER</strong> - <em>INNER</em> JOIN</li>
<li><strong>JOIN_LEFT</strong> - LEFT OUTER JOIN</li>
<li><strong>JOIN_RIGHT</strong> - RIGHT OUTER JOIN</li>
<li><strong>JOIN_FULL</strong> - FULL OUTER JOIN</li>
<li><strong>JOIN_CROSS</strong> - CROSS JOIN</li>
</ul>
<div class="section" id="join">
<h3>join<a class="headerlink" href="#join" title="Permalink to this headline">¶</a></h3>
<p>The <strong>join</strong> method defines the table to which the SQL <em>JOIN</em> is to be made, and
which <em>type</em> of join. The method takes the name of the table as an operator, and
the type, which defaults to the <em>INNER JOIN</em> type.</p>
<p>The example bellow shows basic usage of the <strong>join</strong> method:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s2">&quot;table2&quot;</span><span class="p">,</span> <span class="nx">BaseModel</span><span class="o">::</span><span class="na">JOIN_LEFT</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>If only the <strong>join</strong> method is called, an Exception will be thrown when executing
the query, the <strong>joinCond</strong> has to be called at least once and define a valid join
condition.</p>
</div>
<div class="section" id="joinmodel">
<h3>joinModel<a class="headerlink" href="#joinmodel" title="Permalink to this headline">¶</a></h3>
<p>The <strong>joinModel</strong> method conveniently extracts the table name from the joining model
and the primary key, allowing you to skip the <strong>joinCond</strong> call. The method takes
the Model object as first parameter, second parameter is the foreign key of the
main table, and the third parameter defines the type of join, which defaults to
the <em>INNER JOIN</em> type. The final parameter defines the comparison operator which
defaults to <em>equals (=)</em>.</p>
<p>The <strong>joinModel</strong> requires the joining model to have the <strong>$primaryKey</strong> protected
property properly set, otherwise a <strong>\SlaxWeb\DatabasePDO\Exception\NoPrimKeyException</strong>
is thrown. Example usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="nv">$otherModel</span><span class="p">,</span> <span class="s2">&quot;foreign_key_column&quot;</span><span class="p">,</span> <span class="nx">BaseModel</span><span class="o">::</span><span class="na">JOIN_LEFT</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above code will generate the following JOIN statement:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">LEFT</span> <span class="n">OUTTER</span> <span class="k">JOIN</span> <span class="ss">&quot;otherModelTable&quot;</span>
    <span class="k">ON</span> <span class="p">(</span><span class="ss">&quot;table1&quot;</span><span class="p">.</span><span class="ss">&quot;foreign_key_column&quot;</span> <span class="o">=</span> <span class="ss">&quot;otherModelTable&quot;</span><span class="p">.</span><span class="ss">&quot;primKey&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="joincond">
<h3>joinCond<a class="headerlink" href="#joincond" title="Permalink to this headline">¶</a></h3>
<p>The <strong>joinCond</strong> method defines the join condition(s) for the last added join with
the <strong>join</strong> or <strong>joinModel</strong> method calls. If the <strong>joinCond</strong> is called before
either of those methods is called, an <strong>\SlaxWeb\DatabasePDO\Exception\NoJoinTableException</strong>
will be thrown. The method takes the main table column name on which the join is
to be made, and the column of the joining table. The third parameter defines the
logical operator for the join condition which defaults to <em>is equal (=)</em>.</p>
<p>The bellow example is a continuation from the above examples:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">joinCond</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
</div>
<div class="section" id="orjoincond">
<h3>orJoinCond<a class="headerlink" href="#orjoincond" title="Permalink to this headline">¶</a></h3>
<p><strong>orJoinCond</strong> is exactly the same as <strong>joinCond</strong> only it will link the join condition
with a logical <strong>OR</strong> operator to the previous join condition.</p>
<p>The bellow example is a continuation from the above examples:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">orJoinCond</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="s2">&quot;col4&quot;</span><span class="p">);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
</div>
<div class="section" id="joincols">
<h3>joinCols<a class="headerlink" href="#joincols" title="Permalink to this headline">¶</a></h3>
<p>The <strong>joinCols</strong> method is the final method for the <em>JOIN</em> statement. It is not
required, and the Query Builder will build a <em>JOIN</em> statement without it just fine.
The <strong>joinCols</strong> method defines which columns are to be put on the select column
list from the joining table.</p>
<p>The bellow example is a continuation from the above examples:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">joinCols</span><span class="p">([</span><span class="s2">&quot;col5&quot;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span><span class="p">]);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above examples will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;table1&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span><span class="p">,</span>
    <span class="ss">&quot;table2&quot;</span><span class="p">.</span><span class="ss">&quot;col5&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table1&quot;</span>
<span class="k">LEFT</span> <span class="n">OUTTER</span> <span class="k">JOIN</span> <span class="ss">&quot;table2&quot;</span>
    <span class="k">ON</span> <span class="p">(</span><span class="ss">&quot;table1&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span> <span class="o">=</span> <span class="ss">&quot;table2&quot;</span><span class="p">.</span><span class="ss">&quot;col2&quot;</span><span class="p">)</span>
    <span class="k">OR</span> <span class="p">(</span><span class="ss">&quot;table1&quot;</span><span class="p">.</span><span class="ss">&quot;col3&quot;</span> <span class="o">=</span> <span class="ss">&quot;table2&quot;</span><span class="p">.</span><span class="ss">&quot;col4&quot;</span><span class="p">)</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="grouping">
<h2>Grouping<a class="headerlink" href="#grouping" title="Permalink to this headline">¶</a></h2>
<p>For column grouping the Query Builder provides a simple <strong>groupBy</strong> method that
adds the column to the group by list. It accepts the name of the column as an input
parameter:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">select</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span><span class="p">]);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above examples will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
<span class="k">GROUP</span> <span class="k">BY</span>
    <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="ordering">
<h2>Ordering<a class="headerlink" href="#ordering" title="Permalink to this headline">¶</a></h2>
<p>To create an <em>ORDER BY</em> statement, the Query Builder provides a <strong>orderBy</strong> method.
The <strong>orderBy</strong> method takes the name of the column as the first input argument,
the second input argument defines the direction of the order, and it defaults to
<strong>ASC</strong>. The third argument may define a function to be used for that order, by
default it is an empty string:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="nx">\\SlaxWeb\Database\BaseModel</span><span class="o">::</span><span class="na">ORDER_DESC</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">select</span><span class="p">([[</span><span class="s2">&quot;func&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;col&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;as&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;summary&quot;</span><span class="p">]]);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above examples will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="k">SUM</span><span class="p">(</span><span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span><span class="p">)</span> <span class="k">AS</span> <span class="n">summary</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
<span class="k">ORDER</span> <span class="k">BY</span>
    <span class="k">SUM</span><span class="p">(</span><span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span><span class="p">)</span> <span class="k">DESC</span>
</pre></div>
</div>
</div>
<div class="section" id="limit">
<h2>Limit<a class="headerlink" href="#limit" title="Permalink to this headline">¶</a></h2>
<p>The Query Builder also allows you to limit the results with SQL <em>LIMIT</em> and <em>OFFSET</em>.
To do so, the method <strong>limit</strong> is provided, and it accepts two integers as input,
first one being <em>LIMIT</em> and second one being <em>OFFSET</em>. Offset is by default 0, and
usage is simple as with other methods, you just need to ensure it gets called before
calling the <strong>select</strong>, <strong>update</strong>, or <strong>delete</strong> methods:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">limit</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">select</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span><span class="p">]);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above examples will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
<span class="k">LIMIT</span>
    <span class="mi">5</span>
<span class="k">OFFSET</span>
    <span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="timestamps">
<h2>Timestamps<a class="headerlink" href="#timestamps" title="Permalink to this headline">¶</a></h2>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">Timestamps are planed for future releases and are as of yet not possible, exact
functionality is not yet defined, and is therefor not yet documented.</p>
</div>
</div>
<div class="section" id="sql-functions">
<h2>SQL functions<a class="headerlink" href="#sql-functions" title="Permalink to this headline">¶</a></h2>
<p>The Query Builder also provides possibility to add built in SQL functions to the
column list in select, insert, update, and join statements, as <em>MAX</em>, <em>COUNT</em>, and
so on. To do so, you have to provide a nested array in the <strong>select</strong>, <strong>insert</strong>,
<strong>update</strong>, or <strong>joinCols</strong> column lists. The nested array has to be associative,
it needs to hold the <strong>func</strong> key, which defines the SQL function, the column name
as the <strong>col</strong> key, and an optional <strong>as</strong> key that will define the name alias for
that SQL function:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// code ...</span>
<span class="nv">$model</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">([[</span><span class="s2">&quot;func&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;col&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;as&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;rowcount&quot;</span><span class="p">]);</span>
<span class="c1">// code ...</span>
</pre></div>
</div>
<p>The above examples will generate and execute the following query:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="ss">&quot;table&quot;</span><span class="p">.</span><span class="ss">&quot;col1&quot;</span><span class="p">)</span> <span class="k">AS</span> <span class="n">rowcount</span>
<span class="k">FROM</span>
    <span class="ss">&quot;table&quot;</span>
<span class="k">WHERE</span>
    <span class="mi">1</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As of version 0.5 SQL functions are also supported in where statements.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../components/index.html" class="btn btn-neutral float-right" title="Components" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="execqueries.html" class="btn btn-neutral" title="Executing Queries" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, SlaxWeb Dev Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>